{% load humanize %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Lista de Compras #{{ cotizacion.id }}</title>
    <style>
        @page { size: letter; margin: 1.5cm; }
        body { font-family: 'Helvetica', sans-serif; color: #333; font-size: 12px; }
        
        .header { width: 100%; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .title { font-size: 18px; font-weight: bold; color: #333; }
        .subtitle { font-size: 12px; color: #666; margin-top: 5px; }
        
        .section-title { 
            background-color: #eee; padding: 5px 10px; 
            font-weight: bold; margin-top: 15px; margin-bottom: 5px; 
            border-left: 4px solid #356685; 
        }
        
        .item-row { padding: 4px 0; border-bottom: 1px dotted #ccc; }
        .checkbox { 
            display: inline-block; width: 12px; height: 12px; 
            border: 1px solid #333; margin-right: 10px; 
        }
        .qty { font-weight: bold; color: #356685; margin-right: 5px; }
    </style>
</head>
<body>

    <div class="header">
        <div style="float:right; text-align:right;">
            <div style="font-size:10px;">Fecha Evento:</div>
            <div style="font-weight:bold;">{{ cotizacion.fecha_evento|date:"d/M/Y" }}</div>
        </div>
        <div class="title">Lista de Compras / Barra</div>
        <div class="subtitle">{{ cotizacion.cliente.nombre }} - {{ cotizacion.nombre_evento }} ({{ cotizacion.num_personas }} Pax)</div>
    </div>

    {% for categoria, items in lista.items %}
        {% if items %}
            <div class="section-title">{{ categoria }}</div>
            
            {% for producto in items %}
            <div class="item-row">
                <span class="checkbox"></span>
                <span class="qty">{{ producto.cantidad }} {{ producto.unidad }}</span> 
                {{ producto.item }}
            </div>
            {% endfor %}
        {% endif %}
    {% endfor %}

    <div style="margin-top: 30px; font-size: 10px; color: #777; text-align: center; border-top: 1px solid #eee; padding-top: 10px;">
        Generado autom√°ticamente por ERP Quinta Ko'ox Tanil el {% now "d/m/Y H:i" %}
    </div>

</body>
</html>