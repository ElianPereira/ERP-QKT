/* static/css/mobile_fix.css */
/* VERSIÓN ULTRA-APP RADICAL V3 - CORRECCIÓN TABLAS Y BOTONES */

@media screen and (max-width: 992px) {

    /* =========================================
       1. LIMPIEZA GENERAL (QUITA RUIDO)
       ========================================= */
    body {
        background-color: #f0f2f5 !important;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
        -webkit-font-smoothing: antialiased;
        font-size: 14px !important; /* Base un poco más chica para móvil */
    }

    .breadcrumb, #content-related {
        display: none !important;
    }
    
    .container-fluid, .content {
        padding-left: 8px !important;
        padding-right: 8px !important;
    }

    h1 {
        font-size: 22px !important;
        font-weight: 800 !important;
        color: #2c3e50;
        margin: 15px 0 !important;
        text-align: center;
    }

    /* =========================================
       2. DASHBOARD (TABLERO)
       ========================================= */
    .col-lg-3, .col-lg-4, .col-md-6, .col-sm-12 {
        flex: 0 0 100% !important;
        max-width: 100% !important;
    }
    .small-box {
        border-radius: 12px !important;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05) !important;
        margin-bottom: 15px !important;
    }
    .small-box h3 { font-size: 28px !important; }
    .small-box .icon { display: none !important; }
    canvas {
        background: white;
        border-radius: 12px;
        padding: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    /* =========================================
       3. LISTADOS (TABLAS) - CORRECCIONES CRÍTICAS
       ========================================= */
    /* Contenedor de la tabla */
    .card-body.table-responsive {
        border-radius: 12px !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05) !important;
        background: white;
        margin-bottom: 80px;
        border: 1px solid #eee;
    }

    /* --- ARREGLO 1: ENCABEZADOS MÁS DELGADOS (Img 8) --- */
    table.table thead th {
        background-color: #34495e !important; /* Azul grisáceo más elegante */
        color: white !important;
        padding: 10px 8px !important; /* Mucho menos relleno vertical */
        font-size: 11px !important;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        white-space: nowrap;
        vertical-align: middle !important;
        line-height: 1.2 !important; /* Altura de línea compacta */
    }

    /* Celdas del cuerpo */
    table.table tbody td {
        padding: 12px 8px !important; /* Relleno cómodo pero no excesivo */
        vertical-align: middle !important;
        font-size: 13px !important;
        border-bottom: 1px solid #f1f1f1 !important;
        white-space: nowrap;
    }

    /* --- ARREGLO 2: COLORES DE NÚMEROS UNIFORMES (Img 8) --- */
    /* Forzar que los enlaces dentro de celdas normales sean negros/grises y sin subrayado */
    table.table tbody td a {
        color: #333 !important;
        text-decoration: none !important;
        font-weight: normal !important;
    }
    
    /* Excepción: La primera columna fija SÍ debe parecer un enlace (Azul y negrita) */
    table.table tbody td:first-child a,
    table.table tbodyth:first-child a {
        color: #2980b9 !important;
        font-weight: 700 !important;
    }

    /* Primera columna fija (Sticky) */
    table.table tbody td:first-child {
        position: sticky;
        left: 0;
        z-index: 10;
        background-color: #fff !important;
        border-right: 2px solid #e9ecef;
    }
    table.table thead th:first-child {
        position: sticky;
        left: 0;
        z-index: 11;
    }

    /* --- ARREGLO 3: BOTONES DENTRO DE TABLAS (Img 7) --- */
    /* Deben ser compactos, no gigantes */
    table.table tbody td .btn, 
    table.table tbody td a.button {
        display: inline-flex !important; /* Usar flex para centrar icono y texto */
        align-items: center;
        justify-content: center;
        width: auto !important; /* Ancho automático según contenido */
        height: auto !important;
        padding: 6px 10px !important; /* Relleno pequeño */
        font-size: 11px !important; /* Letra pequeña */
        font-weight: 600 !important;
        border-radius: 4px !important;
        margin: 2px 0 !important; /* Separación vertical si se apilan */
        line-height: 1 !important;
        text-transform: none !important;
        box-shadow: none !important;
    }
    
    /* Arreglar iconos dentro de esos botones pequeños */
    table.table tbody td .btn i, 
    table.table tbody td a.button i {
        margin-right: 4px !important;
        font-size: 11px !important;
        display: inline-block !important;
    }

    /* Botón "Ver PDF" específico (Suele ser info/azul) */
    table.table tbody td .btn-info {
        background-color: #17a2b8 !important;
        border-color: #17a2b8 !important;
        color: white !important;
    }
    /* Botón "Enviar" específico (Suele ser success/verde) */
    table.table tbody td .btn-success {
        background-color: #28a745 !important;
        border-color: #28a745 !important;
        color: white !important;
    }


    /* =========================================
       4. FORMULARIOS - LIMPIOS
       ========================================= */
    .card-body {
        border-radius: 12px;
        padding: 15px !important;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .form-group label {
        font-size: 13px !important;
        color: #6c757d;
        text-transform: uppercase;
        font-weight: 600;
        margin-bottom: 5px !important;
    }
    .form-control, 
    input[type="text"], input[type="number"], input[type="email"], 
    input[type="date"], select, textarea {
        height: 45px !important; /* Altura estándar cómoda */
        border-radius: 8px !important;
        border: 1px solid #ced4da !important;
        font-size: 16px !important; /* Evita zoom en iOS */
        padding: 0 12px !important;
    }
    /* Arreglo Select2 */
    .select2-container .select2-selection--single {
        height: 45px !important;
        border-radius: 8px !important;
    }
    .select2-container--default .select2-selection--single .select2-selection__rendered {
        line-height: 45px !important;
        font-size: 16px !important;
    }
    .select2-container--default .select2-selection--single .select2-selection__arrow {
        height: 43px !important;
    }

    /* =========================================
       5. BOTONERA FLOTANTE (STICKY FOOTER)
       ========================================= */
    .submit-row {
        position: fixed !important;
        bottom: 0;
        left: 0;
        width: 100%;
        background: white !important;
        padding: 10px 15px !important;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1) !important;
        z-index: 9999;
        border-top: 1px solid #eee;
    }
    .submit-row input[name="_addanother"],
    .submit-row input[name="_continue"],
    .deletelink-box { display: none !important; }

    .submit-row input[type="submit"] {
        width: 100% !important;
        background-color: #27ae60 !important;
        color: white !important;
        border: none;
        height: 50px !important;
        border-radius: 10px !important;
        font-size: 16px !important;
        font-weight: 700 !important;
        text-transform: uppercase;
    }

    /* Botón AGREGAR PRINCIPAL (en los listados arriba) */
    .object-tools a.btn {
        display: block;
        width: 100%;
        background-color: #2980b9 !important;
        color: white !important;
        padding: 12px !important;
        border-radius: 10px !important;
        font-size: 15px !important;
        font-weight: 600;
        text-align: center;
        margin-bottom: 15px;
    }
}